<!DOCTYPE html>
<html lang="zh-Hans">
<head>
<meta charset="utf-8" />
<title>使用语言属性设置样式</title>
<meta name="description" content="如何将 CSS 和多语言的 HTML 或 XML 页面中某种语言的文本进行关联？" />
<script>
var f = { }

// AUTHORS should fill in these assignments:
f.directory = 'questions'+'/' // the path to this file, not including /International or the file name
f.filename = 'qa-css-lang' // the file name WITHOUT extensions
f.authors = 'Andrew Cunningham, State Library of Victoria, Richard Ishida, W3C' // author(s) and affiliations
f.previousauthors = '' // as above
f.modifiers = '' // people making substantive changes, and their affiliation
f.searchString = 'qa-css-lang' // blog search string - usually the filename without extensions
f.firstPubDate = '2003-08-07' // date of the first publication of the document (after review)
f.lastSubstUpdate = { date:'2013-08-14', time:'10:43'}  // date and time of latest substantive changes to this document
f.status = 'published'  // should be one of draft, review, published, notreviewed or obsolete
f.path = '../' // what you need to prepend to a URL to get to the /International directory 

// AUTHORS AND TRANSLATORS should fill in these assignments:
f.thisVersion = { date:'2023-07-11', time:'14:41'} // date and time of latest edits to this document/translation
f.contributors = '' // people providing useful contributions or feedback during review or at other times
// also make sure that the lang attribute on the html tag is correct!
f.sources = '' // describes sources of information

// TRANSLATORS should fill in these assignments:
f.translators = '薛富侨' // translator(s) and their affiliation - a elements allowed, but use double quotes for attributes

f.breadcrumb = 'language'

f.additionalLinks = ''
</script>
<script src="qa-css-lang-data/translations.js"> </script>
<script src="../javascript/doc-structure/article-dt.js"> </script>
<script src="../javascript/boilerplate-text/boilerplate-zh-hans.js"> </script>
<!--TRANSLATORS must change -en in the line just above to the subtag for their language! -->
<script src="../javascript/doc-structure/article-2022.js"> </script>
<script src="../javascript/articletoc-2022.js"></script>
<link rel="stylesheet" href="../style/article-2022.css" />
<link rel="copyright" href="#copyright"/>
<script src="../javascript/prism.js"></script>
<link rel="stylesheet" href="../style/prism.css">
</head>

<body>
<header>
  <nav id="mainNavigation"></nav><script>document.getElementById('mainNavigation').innerHTML = mainNavigation</script>
  
  <h1>使用语言属性设置样式</h1>
</header>


  <div id="audience">
    <div id="updateInfo"></div><script>document.getElementById('updateInfo').innerHTML = g.updated</script>
    </div>
    
  <section id="question">
<h2>问题</h2>
    <p class="question">如何将CSS和多语言的HTML或XML页面中某种语言的文本进行关联？</p>
    
  <p>在页面中发生语言变化时，样式经常被用来变更字体、字体大小和行高。这在处理简体中文和繁体中文时非常有用，因为即使很多字都是相同的，用户还是需要使用不同的字体。样式还有助于更好地协调混排时字体的外观，例如混排阿拉伯字母和拉丁字母的字体时。</p>
  <p>本页讨论了执行该操作的多种方式。</p>
  
  </section>
  
 

<section id="nutshell">
    <h2 id="quickanswer">快速回答</h2>
    
  <p>在HTML中按语言设置内容样式的最佳方法是在CSS中使用<code class="kw" translate="no">:lang</code>选择器。例如：</p>
  <figure class="example">
    <pre style="white-space:pre-wrap;"><code class="language-css">:lang(ta) 	{
    font-family: Latha, "Tamil MN", serif;
    font-size: 120%;
    }</code></pre>
  </figure>
  <p>本文的剩余部分包括有关<code class="kw" translate="no">:lang</code>的详细信息，并与其他两种方法进行了比较。</p>
</section>


<section id="detail">
<h2>可采用的方法</h2>

  <p>当网页中的语言发生变化时，可以使用三种CSS选择器来应用样式。</p>
  <ol>
    <li> [lang = "..."] </li>
    <li> [lang |= "..."] </li>
    <li> :lang() </li>
  </ol>
  <p>这三种方式都可以匹配HTML里的<code class="kw" translate="no">lang</code>属性，而且所有主要浏览器都支持它们（参阅<a class="print" href="https://www.w3.org/International/i18n-tests/results/lang-selectors">测试结果</a>）。</p>
  <section id="lang-equal">
<h3><code>[lang="..."]</code> 选择器</h3>
    <p>当<code class="kw" translate="no">lang</code>属性的值和选择器中的值完全匹配时，用这个选择器为元素添加样式。</p>
    <p>下面的CSS代码：</p>
    <figure class="example">
      <pre style="white-space:pre-wrap;"><code class="language-css">*[lang="zh"] {font-family: Kaiti,Kai, serif;}
</code></pre>
    </figure>
    
    <p>会修改下面<code class="kw" translate="no">span</code>元素的样式：</p>
    <figure class="example">
      <pre style="white-space:pre-wrap;"><code class="language-html">&lt;p&gt;&quot;This is &lt;em&gt;English&lt;/em&gt;&quot; translates as &lt;span lang="zh"&gt;这是&lt;em&gt;英文&lt;/em&gt;&lt;/span&gt;.&lt;/p&gt;</code></pre>
    </figure>
    <p>但是它<strong>不会</strong>匹配<code class="kw" translate="no">lang</code>值为<code class="kw" translate="no">zh-Hans</code>的<code class="kw" translate="no">span</code>元素，因为属性值必须与选择器值完全匹配。</p>
  </section>
  
  <section id="lang-bar-equal">
<h3><code>[lang|="..."]</code> 选择器 </h3>
<p>使用此选择器可以设置<code class="kw" translate="no">lang</code>值以选择器中的值开头的元素的样式。</p>
    <p>下面的CSS代码：</p>
    <figure class="example">
      <pre style="white-space:pre-wrap;"><code class="language-css">*[lang|="zh"] {font-family: Kaiti,Kai, serif;}
</code></pre>
    </figure>
    <p>会修改下面<code class="kw" translate="no">span</code>元素的样式：</p>
    <figure class="example">
      <pre style="white-space:pre-wrap;"><code class="language-html">&lt;p&gt;&quot;This is &lt;em&gt;English&lt;/em&gt;&quot; translates as &lt;span lang="zh-Hans"&gt;这是&lt;em&gt;英文&lt;/em&gt;&lt;/span&gt;.&lt;/p&gt;</code></pre>
    </figure>
    <p>实际上，这个选择器可以匹配任何<code class="kw" translate="no">lang</code>值以<code class="kw" translate="no">zh</code>语言子标签开头的元素，包括<code class="kw" translate="no">zh</code>、<code class="kw" translate="no">zh-Hant</code>、<code class="kw" translate="no">zh-TW</code>和<code class="kw" translate="no">zh-Hans-CN</code>等。</p>
  </section>

  
  <section id="inheritance">
<h3>语言值的继承</h3>

    <p><code class="kw" translate="no">:lang</code>和其他方法的一个显著区别是，即使语言是在该元素外部声明时，它依然可以识别元素内容的语言。</p>
    
    <p>例如，假设在一份包含日语文本的英语文档中，你想使用CSS3属性来设置强调日语文字的样式，而不是使用斜体（斜体并不总是能很好地适用于日语的复杂文字）。你的样式中可能有如下规则：</p>
    <div class="sidenoteGroup">
      <figure class="example">
        <pre style="white-space:pre-wrap;"><code class="language-css">em { font-style: italic; }
em:lang(ja)  { font-style:&#xA0;normal; text&#x2011;emphasis:&#xA0;dot; text&#x2011;emphasis&#x2011;position:&#xA0;over right; }</code></pre>
      </figure>
      <aside class="sideinfonote">
        <p class="warning"><code class="kw" translate="no">text-emphasis</code>和<code class="kw" translate="no">text-emphasis-position</code>属性是根据CSS3文本装饰目前的<a href="https://drafts.csswg.org/css-text-decor-3/">编辑草案</a>来使用的，用法在草案成为正式推荐标准之前可能会发生变化。</p>
      </aside>
    </div>
    
    <p>现在假设你有以下内容，用户代理支持<code class="kw" translate="no">:lang</code>，<code class="kw" translate="no">html</code>标签表明这是一个英文文档。</p>
    <figure class="example">
      <pre style="white-space:pre-wrap;"><code class="language-html">&lt;p&gt;This is &lt;em&gt;English&lt;/em&gt;, but &lt;span lang="ja"&gt;これは&lt;em&gt;日本語&lt;/em&gt;です。&lt;/span&gt;&lt;/p&gt;</code></pre>
    </figure>
    
    <p>你希望看到被强调的英语单词是斜体的，但被强调的日语单词没有斜体，而每个字上方有小点，如下所示：</p>
    <figure class="example">
      <p><img src="qa-css-lang-data/css-lang-e1.gif" height="25" width="242" alt="Picture of what was just described." /></p>
    </figure>
    <p>本节要强调的是，使用<code>[lang|="..."]</code>和<code>[lang="..."]</code>选择器无法实现这种效果。如果想用这些选择器，唯一的方法是在每个日语的<code class="kw" translate="no">em</code>标签上都声明语言。</p>
    <p>这造成了不同选择器实用性的巨大差异。</p>
  </section>
  <section id="which">
<h3>哪种语言属性？</h3>

    <p><code class="kw" translate="no">lang</code>属性用于标记HTML文档中文本的语言。XML文档应使用<code class="kw" translate="no">xml:lang</code>属性。</p>
    
    <p>对于互联网媒体类型是text/html的XHTML，建议同时使用这两个属性，因为HTML解析器会使用<code class="kw" translate="no">lang</code>属性，而XML解析器会使用<code class="kw" translate="no">xml:lang</code>属性。</p>
    <p>本文将首先介绍使用<code class="kw" translate="no">lang</code>属性在HTML中按语言修改样式的多种方案，然后介绍<a href="#xmllang">如何基于<code class="kw" translate="no">xml:lang</code>修改XML文档的样式</a>。</p>
  </section>
  <section id="colon-lang">
<h3><code>:lang(...)</code> 伪类</h3>
    <p>下面的HTML片段：</p>
    <figure class="example">
      <pre style="white-space:pre-wrap;"><code class="language-html">
&lt;p&gt;It is polite to welcome people in their own language:&lt;/p&gt;
&lt;ul&gt;
    &lt;li lang="zh-Hans"&gt;欢迎&lt;/li&gt;
    &lt;li lang="zh-Hant"&gt;歡迎&lt;/li&gt;
    &lt;li lang="el"&gt;Καλοσωρίσατε&lt;/li&gt;
    &lt;li lang="ar"&gt;اهلا وسهلا&lt;/li&gt;
    &lt;li lang="ru"&gt;Добро пожаловать&lt;/li&gt;
    &lt;li lang="din"&gt;Kudual&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
    </figure>
    <p>可有下面的样式：</p>
    <figure class="example">
      <pre style="white-space:pre-wrap;"><code class="language-css">body 		{font-family: "Times New Roman",serif;}
:lang(ar) 	{font-family: "Scheherazade",serif; 
                 font-size: 120%;}
:lang(zh-Hant) 	{font-family: Kai,KaiTi,serif;}
:lang(zh-Hans) 	{font-family: DFKai-SB,BiauKai,serif;}
:lang(din) 	{font-family: "Doulos SIL",serif;}
</code></pre>
    </figure>
    
    <p>希腊语和俄语使用<code class="kw" translate="no">body</code>元素的样式。</p>
  
    <p>这是设置语言片段样式的理想方法，因为当内容的语言在页面中的较早部分声明时，它是唯一可以把样式应用于元素的选择器。</p>
    
    <p><code>:lang(zh)</code> 将匹配语言值为<code class="kw" translate="no">zh</code>的元素，也可以匹配更为具体的语言标签，如<code class="kw" translate="no">zh-Hant</code>、<code class="kw" translate="no">zh-Hans</code>和<code class="kw" translate="no">zh-TW</code>。</p>
    
    <p>选择器<code>:lang(zh-Hant)</code>只能匹配语言值为<code class="kw" translate="no">zh-Hant</code>或继承了该语言值的元素。如果用的是<code>:lang(zh-TW)</code>，则无法匹配我们的示例文本。</p>
  </section>
  <section id="lang-bar">
    
<h3>与属性值开头匹配的<code>[lang|="..."]</code>选择器</h3>

    <p>对于我们在上一节中看到的HTML示例，CSS可写为：</p>
    <figure class="example">
      <pre style="white-space:pre-wrap;"><code class="language-css">body 		   {font-family: "Times New Roman",serif;}
*[lang|="ar"] 	   {font-family: "Scheherazade",serif; 
                    font-size: 120%;}
*[lang|="zh-Hant"] {font-family: Kai,KaiTi,serif;}
*[lang|="zh-Hans"] {font-family: DFKai-SB,BiauKai,serif;}
*[lang|="din"]     {font-family: "Doulos SIL",serif;}
</code></pre>
    </figure>
    
    <p>与<code class="kw" translate="no">:lang</code>不同，该选择器仅适用于带有<code class="kw" translate="no">lang</code>属性的元素（参阅<a href="#inheritance">语言值的继承</a>）。</p>
    
    <p>这个选择器和<code>[lang="..."]</code>有显著的区别。<code>[lang=&quot;...&quot;]</code>只在选择器值和属性值相同时才匹配，而这个选择器还可以匹配有横杠分隔的更具体的语言属性，所以<code>[lang|=&quot;sl&quot;]</code>可以匹配<code class="kw" translate="no">sl-IT</code>、<code class="kw" translate="no">sl-nedis</code>和<code class="kw" translate="no">sl-IT-nedis</code>，而<code>[lang|=&quot;zh-Hans&quot;]</code>也可以匹配<code class="kw" translate="no">zh-Hans-CN</code>。</p>
  </section>
  <section id="generic">
<h3>通用的类或ID选择器</h3>
    <p>这种方法不需要匹配语言属性，而是依赖于<code class="kw" translate="no">class</code>或<code class="kw" translate="no">id</code>属性。使用普通的CSS类或ID选择器适用于绝大多数支持CSS的浏览器，但缺点是添加属性会占用时间和带宽。</p>
    <p>For the markup example above, this would require us to change the HTML code by adding class attributes as follows:</p>
    <figure class="example">
      <pre style="white-space:pre-wrap;"><code class="language-html">
&lt;p&gt;It is polite to welcome people in their own language:&lt;/p&gt;
&lt;ul&gt;
    &lt;li class="zhs" lang="zh-Hans"&gt;欢迎&lt;/li&gt;
    &lt;li class="zht" lang="zh-Hant"&gt;歡迎&lt;/li&gt;
    &lt;li class="el" lang="el"&gt;Καλοσωρίσατε&lt;/li&gt;
    &lt;li class="ar" lang="ar"&gt;اهلا وسهلا&lt;/li&gt;
    &lt;li class="ru" lang="ru"&gt;Добро пожаловать&lt;/li&gt;
    &lt;li class="din" lang="din"&gt;Kudual&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
    </figure>
    <p>We could then have the following styling:</p>
    <figure class="example">
      <pre style="white-space:pre-wrap;"><code class="language-css">body 	{font-family: "Times New Roman",serif; }
.ar 	{font-family: "Scheherazade",serif; 
         font-size: 120%;}
.zht 	{font-family: PMingLiU, MingLiU,serif;}
.zhs 	{font-family: SimSum-18030, SimHei,serif;}
.din	{font-family: "Doulos SIL",serif;}
</code></pre>
    </figure>
  </section>
  <section id="xmllang">
<h3>Using CSS selectors in XML with <code class="kw" translate="no">xml:lang</code></h3>
    <p>As mentioned earlier, in a document that is parsed as XML you need to use the <code class="kw" translate="no">xml:lang</code> attribute (rather than the <code class="kw" translate="no">lang</code> attribute) to express language information.</p>
    <p><strong class="leadin">Using :lang</strong></p>
    <p>Use of <code class="kw" translate="no">:lang</code> is straightforward. If the document is parsed as HTML, the <code class="kw" translate="no">:lang</code> selector will match content where the language was defined using a <code class="kw" translate="no">lang</code> attribute value. However, if the document is parsed as XML, the <code class="kw" translate="no">:lang</code> selector will match content labeled with an <code class="kw" translate="no">xml:lang</code> attribute value and ignore any <code class="kw" translate="no">lang</code> attribute value.</p>
    <p><strong class="leadin">Using attr= and attr|=</strong></p>
    <p>Use of these selectors involves some additional considerations. </p>
    <p>The <code class="kw" translate="no">xml:</code> part of the <code class="kw" translate="no">xml:lang</code> attribute indicates that this is the <code class="kw" translate="no">lang</code> attribute used <em>in the XML namespace</em>. CSS3 Namespaces describes how to handle <code class="kw" translate="no">xml:lang</code> as an attribute in a namespace. Basically you need to declare the namespace and then replace the colon with a vertical bar. For example:</p>
    <figure class="example">
      <pre style="white-space:pre-wrap;"><code class="language-css">@namespace xml &quot;http://www.w3.org/XML/1998/namespace&quot; 
*[xml|lang |= 'ar'] { ... }</code></pre>
    </figure>
    <p>or:</p>
    <figure class="example">
      <pre style="white-space:pre-wrap;"><code class="language-css">@namespace xml &quot;http://www.w3.org/XML/1998/namespace&quot; 
*[xml|lang = 'ar'] { ... }</code></pre>
    </figure>
    <p>Any <code class="kw" translate="no">@namespace</code> rules must follow all <code class="kw" translate="no">@charset</code> and <code class="kw" translate="no">@import</code> rules and precede all other non-ignored at-rules and rule sets in a style sheet. Note, also, that the URI for the namespace declaration must be exactly correct.</p>
    <p><strong class="leadin">Fallbacks</strong></p>
    <p>For browsers that are not namespace aware, you can fall back to escaped characters. For this you need no <code class="kw" translate="no">@namespace</code> declaration, just one of the following: </p>
    <figure class="example">
      <pre style="white-space:pre-wrap;"><code class="language-css">*[xml\:lang |= '..'] { ... }</code></pre>
    </figure>
    <p>or:</p>
    <figure class="example">
      <pre style="white-space:pre-wrap;"><code class="language-css">*[xml\:lang = '..'] { ... }</code></pre>
    </figure>
    <p> Note, however, that if you try to use this approach with a namespace-aware browser (ie. most recent, major browsers), it will not work, so if you feel it is needed, you should use this approach in addition to the namespace-based selectors. </p>
  </section>
</section>


<section id="bytheway">
<h2>By the way</h2>
  <p>I have used the language codes <code class="kw" translate="no">zh-Hant</code> and <code class="kw" translate="no">zh-Hans</code>. These language codes do not represent specific languages. <code class="kw" translate="no">zh-Hant</code> would
    indicate Chinese written in Traditional Chinese <em>script</em>. Similarly <code class="kw" translate="no">zh-Hans</code> represents Chinese written in Simplified Chinese script. This
    could refer to Mandarin or many other Chinese languages.</p>
  <p>Until recently the codes <code class="kw" translate="no">zh-TW</code> and <code class="kw" translate="no">zh-CN</code> were used to indicate Traditional and Simplified versions of Chinese writing, respectively.
    In reality, <code class="kw" translate="no">zh-TW</code> should indicate Chinese spoken in Taiwan, although there is more than one Chinese language spoken in Taiwan. Similarly <code class="kw" translate="no">zh-CN</code> represents Chinese spoken in China (PRC). This could refer to Mandarin or any other Chinese language.</p>
  <p>If you need to use language tags to differentiate between Chinese languages, the <a class="print" href="http://www.iana.org/assignments/language-subtag-registry">IANA language subtag registry</a> has more precise language codes for a range of
    Chinese languages. For more information see <a href="https://www.w3.org/International/articles/language-tags/#script">Language tags in HTML and XML</a>.</p>
</section>

TODO: trim trailing whitespace

<section id="endlinks">
<h2>Further reading</h2>
<aside class="section" id="survey"> </aside><script>document.getElementById('survey').innerHTML = g.survey</script>

<ul id="full-links">
    <li>
      <p>Getting started? <a href="/International/getting-started/language"><cite>Language on the Web</cite></a> <span class="uri">http://www.w3.org/International/getting-started/language</span></p>
    </li>
    <li>
      <p><a href="/International/articles/language-tags/"><cite>Language tags in HTML and XML</cite></a></p>
    </li>
    <li>
      <p>Related links, <cite>Authoring HTML &amp; CSS</cite></p>
      <ul>
      <li><a href="/International/techniques/authoring-html#style">Styling &amp; layout</a></li>
      <li><a href="/International/techniques/authoring-html#langstyle">Styling by language</a></li>
      </ul>
    </li>
  </ul>
</section>

<footer id="thefooter"></footer><script>document.getElementById('thefooter').innerHTML = g.bottomOfPage</script>
<script>completePage()</script>
</body>
</html>
