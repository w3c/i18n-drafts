<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<title>Установка языковых настроек в браузере</title>
<meta name="description" content="Как я должен использовать настройки своего браузера, чтобы указать язык, на котором серверу следует отсылать мне страницы" />
<script type="text/javascript">
var f = { }

// AUTHORS should fill in these assignments:
f.directory = 'questions'+'/' // the path to this file, not including /International or the file name
f.filename = 'qa-lang-priorities' // the file name WITHOUT extensions
f.authors = 'Richard Ishida' // author(s) and affiliations
f.previousauthors = 'Martin Dürst, W3C' // as above
f.modifiers = '' // people making substantive changes, and their affiliation
f.searchString = 'qa-lang-priorities' // blog search string - usually the filename without extensions
f.firstPubDate = '2003-10-30' // date of the first publication of the document (after review)
f.lastSubstUpdate = { date:'2011-03-22', time:'17:56'}  // date and time of latest substantive changes to this document
f.status = 'published'  // should be one of draft, review, published, notreviewed or obsolete
f.path = '../' // what you need to prepend to a URL to get to the /International directory 

// AUTHORS AND TRANSLATORS should fill in these assignments:
f.thisVersion = { date:'2018-04-03', time:'20:00'} // date and time of latest edits to this document/translation
f.contributors = '' // people providing useful contributions or feedback during review or at other times
// also make sure that the lang attribute on the html tag is correct!
f.sources = '' // describes sources of information

// TRANSLATORS should fill in these assignments:
f.translators = '<a href="https://taushiro.com" title="Russian">Russian Translation Agency</a>, Taushiro Inc' // translator(s) and their affiliation - a elements allowed, but use double quotes for attributes

f.breadcrumb = 'language'

f.additionalLinks = ''
</script>
<script type="text/javascript" src="qa-lang-priorities-data/translations.js"> </script>
<script type="text/javascript" src="../javascript/doc-structure/article-dt.js"> </script>
<script type="text/javascript" src="../javascript/boilerplate-text/boilerplate-ru.js"></script><!--TRANSLATORS must change -en to the subtag for their language!-->
<script type="text/javascript" src="../javascript/doc-structure/article.js"> </script>
<script type="text/javascript" src="../javascript/articletoc-html5.js"></script>
<link rel="stylesheet" href="../style/article-2016.css" type="text/css" />
<link rel="copyright" href="#copyright"/>
<!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>

<body>
<header>
  <nav id="mainNavigation"></nav><script>document.getElementById('mainNavigation').innerHTML = mainNavigation</script>
  
  <h1>Установка языковых настроек в браузере</h1>
</header>


<section>
  <div id="audience">
    <p><span id="intendedAudience" class="leadin">Предполагаемая аудитория:</span>
    пользователи, желающие настроить свой юзер агент/браузер, чтобы автоматически скачивать страницы на указанном языке, когда это возможно и когда сервер настроен соответствующим образом. </p>
    <div id="updateInfo"></div><script>document.getElementById('updateInfo').innerHTML = g.updated</script>
  </div>

  <h2 id="question"><a href="#question">Вопрос</a></h2>
    <p class="question">Как я должен использовать настройки своего браузера, чтобы указать язык, на котором серверу следует отсылать мне страницы?</p>
  </section>
  
 

<section id="nutshell">
    <h2 id="quickanswer"><a href="#quickanswer">Короткий ответ</a></h2>
  <div class="insideinfonote"><p class="info">Иногда сервер может определять, какой язык отправить вам, с помощью способов, которые не зависят от информации Accept-Language. Например, Google обычно использует информацию IP, чтобы определить язык, который вы получите. Описанные здесь настройки браузера не влияют на согласование контента, основанное на таком механизме.</p>
  </div>
  <p>Большинство настольных браузеров имеют настройки, позволяющие вам проверить или изменить предпочитаемые языки. Они сообщают серверу, какой язык вы предпочитаете для отправляемых вам страниц и ресурсов (независимо от языка пользовательского интерфейса браузера). Смотрите в следующем разделе, <a href="#changing">как изменить эти настройки</a>. Обнако, для браузеров на мобильных устройствах (и как минимум одного на десктопе) языковые настройки чаще всего определяются настройками операционной системы или, в некоторых случаях, языком системы в момент установки браузера.</p>
  <p>Браузеры, позволяющие вам изменять языковые настройки, обычно позволяют указать <em>список</em> языков, в таком случае если ваш первый выбор недоступен, вы можете указать, какой альтернативный вариант попробовать, и далее в том же порядке.  </p>
  <p>Если ваш браузер настроен на запрос языка конкретного региона, например канадского французского, вам следует убедиться, что следующим языковым тэгом является просто субтэг основного языка (то есть просто французский в данном примере). </p>
  <p>Вы можете использовать <a class="print" href="http://validator.w3.org/i18n-checker/">Internationalization Checker</a> для того, чтобы посмотреть, какие языки запрашиваются вашим браузером. </p>
  <p>В большинстве случаев изначальные настройки браузера совпадают с вашими потребностями. Например, если у вас японская версия браузера, он обычно
    предполагает, что вы предпочитаете страницы на японском языке, и отправит эту информацию серверу. Детали ниже расскажут, как открыть и изменить языковые настройки, если это необходимо.</p>
</section>


<section>
  <h2 id="detail"><a href="#detail">Детали</a></h2>
  <section>
    <h3 id="background"><a href="#background">Техническая обстановка</a></h3>
  <p> Этот раздел вкрадце описывает технические детали того, что происходит.</p>
  <p>Когда ваш браузер пытается получить документ из Интернета, он отправляет запрос на сервер, который хранит этот документ. Это называется HTTP-запрос. Вместе с запросом браузер посылает информацию о своих <dfn>языковых настройках</dfn>.</p>
  <p>HTTP запрос передает информацию о языковых настройках в заголовке <code class="kw" translate="no">Accept-Language</code>.
    Если сервер настроен на то, чтобы отдавать альтернативные варианты страниц или ресурсов, написанных более, чем на одном языке, и, если предпочитаемый вами язык доступен,
    то произойдёт процесс, который называется <dfn>Согласование содержимого HTTP</dfn>, чтобы найти контент на языке из заголовка HTTP-запроса. Если есть только одна версия страницы на сервере, эта версия и будет возвращена.
    Если ни один из запрашиваемых языков не доступен, сервер должен вернуть данные на языке по умолчанию.</p>
  <p>Большинство популярных браузеров позволяют вам изменять настройки языков, отправляемых с HTTP-запросом. Сами значения должны соответствовать <a class="print" href="http://www.w3.org/International/articles/language-tags/">BCP 47</a> (<cite>Tags for the Identification of Languages</cite>). Это обычно двух- или трёхбуквенные коды языков (например, <code class="kw" translate="no">fr</code> для французского), а также следующие за ними необязательные коды, представляющие такие вещи, как страну (например, <code class="kw" translate="no">fr-CA</code> означает француский язык в Канаде). Регионы могут включать территории, большие, чем страны. Если вы устанавливаете испанский язык, распространённый в Латинской Америке, вы скорее всего укажете <code class="kw" translate="no">es-419</code>. (Читайте подробнее о <a href="https://www.w3.org/International/articles/language-tags/">языковых тэгах</a>.)</p>
  <p>Когда настройки браузера включают несколько языков, браузер назначит <span translate="no" class="kw">qvalue</span> (значение качества) каждому из языков, в порядке уменьшения. Это своего рода система взвешивания, которая должна помочь серверу понять порядок предпочитаемых языков. В следующем примере указан заголовок <code class="kw" translate="no">Accept-Language</code>, содержащий несколько языков. Датский язык является предпочтительным. В случае неудачи, будет запрошен британский английский, и, наконец, любой тип английского.</p>
  <div class="example">
    <pre>Accept-Language: da, en-gb;q=0.8, en;q=0.7</pre>
  </div>
</section>
 
  <section>
    <h3 id="specifying"><a href="#specifying">Указание альтернатив</a></h3>
    <p>Как правило, вы можете указать несколько альтернатив, которые будут обрабатываться в порядке предпочтения. Следующий пример демонстрирует настройки в Firefox кого-то, кто предпочитает страницы на французском языке Швейцарии, но если этот язык недоступен, то он согласен на любой французскую, немецкую или англоязычную страницу, в таком порядке.</p>
    <p><img src="qa-lang-priorities-data/fr-lang-settings.png" alt="Снимок экрана диалогового окна Firefox изменения языковых настроек." /></p>
    <p>Для обеспечения успеха вам необходимо настроить ваш браузер на запрос <code>fr-CH</code> и <code>fr</code>, в таком порядке. В результате, сервер сначала будет искать версию страницы на французском языке Швейцарии, в случае неудачи будет искать любую французскую версию, а затем - на немецком.</p>
    <p>Chrome автоматически устанавливает заголовок <code class="kw" translate="no">Accept-Language</code>, отправляемый вашим браузером, даже хотя вы и не увидите голый язык, в списке диалогового окна, но большинство браузеров не делают этого. Лучше всего начать с проверки установок вашего заголовка <code class="kw" translate="no">Accept-Language</code>, затем произвести какие-либо изменения, а потом проверить снова.</p>
  </section>

  <section>
    <h3 id="checking"><a href="#checking">Проверка ваших заголовков Accept-Language</a></h3>
    <p>До внесения каких-либо изменения вы вероятно захотите проверить текущее состояние заголовка <code class="kw" translate="no">Accept-Language</code>.</p>
    <p>Укажите в сервисе <a class="print" href="http://validator.w3.org/i18n-checker/">Internationalization Checker</a> любую страницу, затем на панели <code class="command_path" translate="no">Information</code> посмотрите <code class="command_path" translate="no">Request Headers</code> &gt; <code class="command_path" translate="no">Accept-Language</code>. </p>
    <p>Смотрите <a class="print" href="http://validator.w3.org/i18n-checker/check?uri=www.w3.org%2FInternational%2Fquestions%2Fqa-lang-priorities.en#validate-by-uri+">пример</a> использования этой страницы.</p>
  </section>
  
  <section>
    <h3 id="changing"><a href="#changing">Изменение ваших настроек</a></h3>
    <div class="sidenoteGroup">
      <p>Мы перечислим здесь примеры того, как вы можете изменить языковые настройки в последних версиях нескольких популярных браузеров в <strong>настольных</strong> платформах Windows или OS X. Мы используем последние на момент написания этой статьи версии браузеров.</p>
      <div class="sideinfonote">
        <p class="warning">Данные инструкции изменяются время от времени по мере публикации новых версий браузеров.
          Исформация была корректной на момент нашей последней проверки. Пожалуйста, сообщите нам, если информация устарела.</p>
        <p>Последовательности команд для дополнительных и более старых версий браузеров могут быть найдены здесь: <a class="print" href="http://www.debian.org/intro/cn#setting">http://www.debian.org/intro/cn#setting</a>.</p>
      </div>
    </div>

<p>На большинстве <strong>мобильных устройств</strong>, ваши настройки установлены в соответствии с основным языком вашей системы. Это имеет смысл, поскольку мобильное устройство обычно является персональной вещью. </p>

<p><strong class="leadin" id="edge">Edge</strong>. Откройте страницу <samp>Язык и регион (Regions &amp; language)</samp> в <samp>Настройках (Settings)</samp> и выберите вариант добавления языка. В большинстве случаев, вас попросят выбрать также и регион. Как только вы осуществили выбор, передвинули или удалили языки в списке для установки предпочитаемого порядка, перезагрузите Edge.</p>
<p>Если вы выбрали комбинацию языка и региона, Edge автоматически установит оба языковых тэга - данной комбинации, а также просто языка в ваш запрос <code class="kw" translate="no">Accept-Language</code>. В списке языков в диалоговом окне вы, тем не менее, будете видеть только язык с регионом. Например, если вы выбрали <samp>Испанский (Латинская Америка)</samp>, Edge автоматически добавит <code class="kw" translate="no">es-419</code>, затем <code class="kw" translate="no">es</code> в ваш запрос <code class="kw" translate="no">Accept-Language</code>, хотя вы будете видеть только <samp>Испанский (Латинская Америка)</samp> в диалоговом окне.</p>
<p> Затем, если вы добавите в список испанский для Мексики, он автоматически дополнится <code class="kw" translate="no">es-419</code>, <code class="kw" translate="no">es-MX</code> и <code class="kw" translate="no">es</code>, в таком порядке, хотя вы по прежнему будете видеть только <samp>Испанский (Латинская Америка)</samp>, <samp>Испанский (Мексика)</samp> в диалоговом окне.</p>
<p>Вы можете создавать языковые тэги, вводя BCP-47 тэг для языка, который вы хотите добавить, в строке поиска страницы <samp>Добавить язык (Add a language)</samp> в <samp>Панели управления (Desktop Control Panel)</samp>. Смотрите <a href="qa-lang-priorities-data/edge-klingon.png">изображение</a>. В подобных примерах, метод письма, указанный в языковом тэге, должен быть одним из поддерживаемых ОС Windows. Например, ввод <kbd>tlh-Latn</kbd> в строку поиска вернёт <samp>Klingon (tlh-Latn)</samp> и добавит <code class="kw" translate="no">tlh-Latn</code> к запросу <code class="kw" translate="no">Accept-Language</code>.</p>

     <p><strong class="leadin" id="chrome">Chrome</strong>. Откройте настройки браузера, в разделе Дополнительные (advanced) прокрутите мышью вниз и найдите <samp>Языки (Languages)</samp>. Откройте <samp>Языки и ввод (Language and Input Settings)</samp> и добавьте язык или язык+регион в список возможных. Отсортируйте список результатов в порядке уменьшения предпочтений. Нет необходимости перезагружать Chrome.</p>
    <p>Если вы выбираете комбинацию языка и региона, то Chrome добавит после этой опции тэг основного языка. Например, если вы выбрали <samp>французский (Канада)</samp>, Chrome добавит его, а затем ещё <samp>французский</samp><code> </code> на ваш список предпочтений на экране.</p>
     <p>Если вы затем добавите <samp>французский (Швейцария)</samp>, то браузер добавит его в конец списка и вам необходимо будет переместить элемент <samp>французский (Швейцария)</samp> до элемента <samp>французский</samp> в диалоговом окне.</p>
     <p>Вы не можете создавать свои языковые тэги.</p>

   <p><strong class="leadin" id="firefox">Firefox</strong>. Откройте настройки браузера и вкладку <samp>Содержание (Content)</samp>. Под заголовком <samp>Языки (Languages)</samp>, выберите предпочитаемые языки, выбирая языки или комбинации языков и регионов в предоставленном списке. Затем настройте список, чтобы указать порядок предпочтений.</p>
   <p>Если вы выбрали комбинацию языка и региона, то Firefox просто добавит эту опцию в список, и вам будет необходимо вручную добавлять тэг основного языка после неё.
     Например, если вы выбрали <samp>французский/Канада [fr-ca]</samp>, Firefox просто добавит его в список, и вам будет необходимо самостоятельно добавлять <samp>французский [fr]</samp>.</p>
    <p>Если впоследствии добавить <samp>французский/Швейцария [fr-ch]</samp>, то вам надо будет переместить его выше тэга с основным языком.</p>
    <p>Вы не можете создавать языковые тэги, с помощью стандартного интерфейса. (Однако вы можете это сделать с помощью <code class="kw" translate="no">about:config</code>, используя <code class="kw" translate="no">intl.accept_languages</code>, если вы достаточно продвинуты).</p>
    <p><strong class="leadin" id="safari">Safari</strong>. В системе OS X отправляются те же языки, что указаны в языковых настройках системы. Чтобы их изменить откройте <samp>Системные настройки (System  Preferences) &gt; Язык и регион (Language &amp; Region) &gt;  Язык (Preferred Language)</samp>, но <strong>будьте внимательны</strong>, вы меняете язык вашего пользовательского интерфейса, а не только настройки предпочтений браузера. Убедитесь, что вы знаете, как переключиться обратно на привычный для вас язык!</p>
    <p>У вас может быть длинный список языков в диалоговом окне, но Safari будет отправлять только самый первый в заголовке <code class="kw" translate="no">Accept-Language</code>.  Если вы выберете <samp>британский английский</samp> в настройках, то браузер будет отправлять код <code class="kw" translate="no">en-gb</code> в заголовке Accept-Language header (и ничего более).</p>
    <p>Вы не можете создавать свои языковые тэги.</p>
  </section>
  
</section>


<section>
  <h2 id="additionalinfo"><a href="#additionalinfo">Дополнительная информация</a></h2>
  
  <section>
    <h3 id="langtagdetail"><a href="#langtagdetail">Почему вам следует выбирать основной язык помимо пары язык+регион</a></h3>
    <p>Базовое правило гласит, что если ваш список языковых предпочтений содержит языковой тэг, в котором есть дефис, например, <code class="kw" translate="no">fr-CH</code> (французский, используемый в Швейцарии), то вам следует подумать о добавлении дополнительного языкового тэга без дефиса, то есть <code class="kw" translate="no">fr</code> (француский) в данном случае, непосредственно после.</p>
    <p>Это необходимо потому, что сервер следует спецификации HTTP/1.1 буквально, невозможно сопоставить код <code class="kw" translate="no">fr-CH</code> документам, помеченным на сервере, как <code class="kw" translate="no">fr</code>.</p>
    <p>На практике, такие сервера, как Apache всё же вернут корректный результат, из-за того, что сервер добавит неявную настройку <code class="kw" translate="no">fr</code> в список. </p>
    <p>Эта настройка, как бы то ни было, имеет очень низкий приоритет. Этот способ может решить проблему, если ваш список предпочитаемых языков содержит только один язык, но у вас возникнут проблемы, если вы указали больше языков, чем один. <a class="print" href="http://httpd.apache.org/docs/2.2/content-negotiation.html">Документация Apache</a> объясняет это следующим образом:</p>
    <blockquote>
      <p>Apache неявно добавляет родительский язык в клиентский список принимаемых языков с низким значением качества (quality value). Но обратите внимание, что если клиент запрашивает "en-GB; q=0.9, fr; q=0.8", а на сервере хранятся документы, обозначенные кодами "en" and "fr", то документ "fr" будет возвращён. Это необходимо для поддержки совместимости со спецификацией HTTP/1.1 и эффективной работы с корректно настроенными клиентами.</p>
    </blockquote>
    <p>Рассмотрим пример. Список предпочитаемых языков на изображении будет всегда возвращать документ на французском (<code>fr</code>) с сервера Apache, потому, элемент <samp>French [fr]</samp> явно указан сразу после <samp>French/Switzerland [fr-ch]</samp>. Если мы удалим <samp>French [fr]</samp> из списка, то, хотя сервер Apache неявно добавит значение <samp>French [fr]</samp>, оно будет иметь значение качества (quality value) ниже, чем <samp>German [de]</samp>, и потому, немецкая версия <em>German</em> документа будет возвращена, если документ на француском языке Швейцарии (Swiss-French) недоступен (даже если французская версия (French) доступна).</p>
    <p><img src="qa-lang-priorities-data/fr-lang-settings-ok.png" alt="Скриншот диалогового окна Firefox при изменении языковых настроек." /></p>
  </section>
  
  <section>
  <h3 id="testing"><a href="#testing">Тестирование согласования контента</a></h3>
  <!--p>A nice example of the use of language negotiation is the <a class="print" href="http://www.w3.org/2004/11/sptour-pressrelease">Press Release</a> of the
    W3C Spanish Office’s Standards Tour in 2004, available in English, Spanish, Basque, Catalan, and Galician, as well as Japanese and French. To try this out, set your preferences to each of the available Iberian peninsular languages in turn, and click on <a class="print" href="http://www.w3.org/2004/11/sptour-pressrelease">this link</a> after each change. The codes you need are <code>es</code> (<a
class="print" href="http://www.w3c.es/Prensa/2004/nota041027.html.es">Spanish</a>), <code>eu</code> (<a
class="print" href="http://www.w3c.es/Prensa/2004/nota041027.html.eu">Basque</a>), <code>ca</code> (<a
class="print" href="http://www.w3c.es/Prensa/2004/nota041027.html.ca">Catalan</a>) and <code>gl</code> (<a
class="print" href="http://www.w3c.es/Prensa/2004/nota041027.html.gl">Galician</a>).</p-->
  <p>Вы можете протестировать согласование контента на примере следующей страницы: <a class="print" href="http://www.w3.org/Press/1998/CSS2-REC">The CSS2 Press Release</a> (доступно на
<a class="print" href="http://www.w3.org/Press/1998/CSS2-REC.html.nl">голландском</a>,
<a class="print" href="http://www.w3.org/Press/1998/CSS2-REC.html.en">английском</a>,
<a class="print" href="http://www.w3.org/Press/1998/CSS2-REC.html.de">немецком</a> и
<a class="print" href="http://www.w3.org/Press/1998/CSS2-REC.html.ja">японском</a>). Установите ваши настройки для каждого из доступных языков, и кликните на <a class="print" href="http://www.w3.org/Press/1998/CSS2-REC">эту ссылку</a> после каждого изменения.</p>
  </section>
</section>


<section>
<h2 id="endlinks"><a href="#endlinks">Дополнительные материалы</a></h2>
<aside class="section" id="survey"> </aside><script>document.getElementById('survey').innerHTML = g.survey</script>

  <ul id="full-links">
<li>
  <p>Ссылки по теме, <cite>Создание HTML и CSS</cite></p>
  <ul>
   	<li><a href="https://www.w3.org/International/techniques/authoring-html?collapse&amp;open=language">Язык</a></li>
    <li><a href="https://www.w3.org/International/techniques/authoring-html#browserlanguage">Установка и изменение настроек браузера</a></li>
  </ul>
</li>
    <li>
      <p>Ссылки по теме, <cite>Настройка сервера</cite></p>
      <ul>
      	<li><a href="https://www.w3.org/International/techniques/server-setup?collapse&amp;open=language">Язык</a></li>
        <li><a href="https://www.w3.org/International/techniques/server-setup#multiviews">Настройка согласования языка MultiViews на Apache</a></li>
      </ul>
    </li>
  </ul>
</section>

<footer id="thefooter"></footer><script type="text/javascript">document.getElementById('thefooter').innerHTML = g.bottomOfPage</script>
<script type="text/javascript">completePage()</script>
</body>
</html>
