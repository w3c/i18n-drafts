<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>CSS3 and International Text</title>
<meta name="description" content="The CSS3 modules currently in development will introduce a large number of properties designed to support non-Latin text, from vertical script support to kashida justification, from ruby positioning to list numbering. This article will give you a glimpse of some of the properties that lie in store, and discuss how you can help to make these improvements a reality." />
<script type="text/javascript">
var f = { }

// AUTHORS should fill in these assignments:
f.directory = 'articles/css3-text'+'/' // the path to this file, not including /International or the file name
f.filename = 'index' // the file name WITHOUT extensions
f.authors = 'Richard Ishida, W3C' // author(s) and affiliations
f.previousauthors = '' // as above
f.modifiers = '' // people making substantive changes, and their affiliation
f.searchString = 'article-css3-text' // blog search string - usually the filename without extensions
f.firstPubDate = '2005-04-22' // date of the first publication of the document (after review)
f.lastSubstUpdate = { date:'2016-07-19', time:'14:02'}  // date and time of latest substantive changes to this document
f.status = 'published'  // should be one of draft, review, published, notreviewed or obsolete
f.path = '../../' // what you need to prepend to a URL to get to the /International directory 

// AUTHORS AND TRANSLATORS should fill in these assignments:
f.thisVersion = { date:'2016-07-19', time:'14:02'} // date and time of latest edits to this document/translation
f.contributors = '' // people providing useful contributions or feedback during review or at other times
// also make sure that the lang attribute on the html tag is correct!
f.sources = '' // describes sources of information

// TRANSLATORS should fill in these assignments:
f.translators = 'xxxNAME, ORG' // translator(s) and their affiliation - a elements allowed, but use double quotes for attributes

f.breadcrumb = 'styling'

f.additionalLinks = ''
</script>
<script type="text/javascript" src="index-data/translations.js"> </script>
<script type="text/javascript" src="../../javascript/doc-structure/article-dt.js"> </script>
<script type="text/javascript" src="../../javascript/boilerplate-text/boilerplate-en.js"></script><!--TRANSLATORS must change -en to the subtag for their language!-->
<script type="text/javascript" src="../../javascript/doc-structure/article.js"> </script>
<script type="text/javascript" src="../../javascript/articletoc-html5.js"></script>
<link rel="stylesheet" href="../../style/article-2016.css" type="text/css" />
<link rel="copyright" href="#copyright"/>
<!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>

<body>
<header>
  <nav id="mainNavigation"></nav><script>document.getElementById('mainNavigation').innerHTML = mainNavigation</script>
  
  <h1>CSS and International Text</h1>
</header>


<section>
  <div id="audience">
    <p><span id="intendedAudience" class="leadin">Intended audience:</span> 
    HTML and CSS content authors who want to get a general idea of what lies in the future with regard to CSS support for non-Latin text support. The article assumes a basic understanding of CSS.</p>
    <div id="updateInfo"></div><script>document.getElementById('updateInfo').innerHTML = g.updated</script>
    </div>

  <p>The CSS modules currently in development will introduce a significant number of properties designed to support non-Latin text, from vertical
    script support to hyphenation, from ruby positioning to list numbering. This article will give you a glimpse of just some of the properties that
    lie in store.</p>
  <p>The article will not expose you to all of the properties planned for inclusion in CSS for the support of international text. It will
    give you a flavor of what is to come, so that you can see the potential benefits of completing the work.</p>
  <p>None of the specifications we will discuss here are finalized. Hopefully the article will raise your expectations and motivate you, where appropriate, to become involved in bringing these modules to a
  final state and getting them implemented by user agents.</p>
</section>


<section>
  <h2 id="Slide0040"><a href="#Slide0040">Lists</a></h2>
  <p>The way items are numbered in a list or in chapter headings, and so on, varies from script to script, and from language to language within the same script. In CSS2 only nine  non-Latin counter styles were specified and, furthermore, the expected behaviour was  poorly specified for these options.</p>
  <figure>
    <figcaption title="Caption.">list-style-type values in CSS 2 and CSS 2.1</figcaption>
    <p><img src="index-data/Slide0050.gif" alt="list-style-type values in CSS 2 and CSS 2.1." width="350" height="232" /> </p>
  </figure>
  <p><a class="print" href="https://www.w3.org/TR/css-counter-styles-3/">CSS Counter Styles Level 3</a>  specifies a way of defining your own counter styles, which makes it possible for content authors to apply almost any language-specific style they want. </p>
  <p>The Internationalization Working Group maintains an associated document called <a href="http://w3c.github.io/predefined-counter-styles/">Custom Counter Styles</a>, which provides ready-made definitions of counter styles using the mechanism in the CSS Counter Styles spec. At the time of writing, the  document contains definitions for over 120 counter styles in around 30 different scripts. These definitions are provided so that content authors have access to off-the-shelf code rather than having to figure out how to define common counter styles for themselves. The Working Group expects to add to the list as time goes by. (Many of these definitions are also specified in the CSS Counter Styles spec, since they were implemented by browsers.)</p>
  <p>The internationalization test suite has  tests and results for major browsers for both the <a href="https://www.w3.org/International/tests/repo/results/predefined-counter-styles">generic counter styles</a> method and the <a href="https://www.w3.org/International/tests/repo/results/custom-counter-styles">custom counter style definitions</a>.</p>
</section>


<section>
  <h2 id="Slide0080"><a href="#Slide0080">Text direction</a></h2>
    
    <p><a href="https://www.w3.org/TR/css3-writing-modes/">CSS Writing Modes Level 3</a> will enable you to use vertical text, and to mix horizontal and vertical text within the same page.</p>
    <p>Key parameters here are the block-progression direction, the inline text direction, and the glyph orientation.</p>
    <figure>
      <figcaption title="Caption.">Text direction properties.</figcaption>
      <p><img src="index-data/Slide0080.gif" alt="Text direction properties." width="294" height="151" /> </p>
    </figure>
    <p>The block-progression direction allows you to specify the direction in which lines of text flow. Top to bottom would be appropriate
      for horizontal text, since the lines are stacked top to bottom. Right-to-left would be the normal setting for vertical Chinese, Japanese and Korean,
      where lines progress from the right to the left of the page or block. Left-to-right would be appropriate for a script like Mongolian, which is also
      vertical but where your eyes start reading from top-left position.</p>
    <p>Within a given line it must be possible to specify the inline directionality of text. Right-to-left would be appropriate for scripts
      such as Arabic and Hebrew. This needs to be interpreted relative to the direction of the block progression.</p>
    <p>It is then necessary to provide a means to control whether the Latin letters in vertical Japanese appear on their side (like
      'Johansson' on the picture), or upright (like 'FIFA' on the picture), and whether text (left-to-right and right-to-left) runs up the vertical line or
      down.</p>
    <p>In some cases, you will want short horizontal runs of text inside the vertical lines, especially for short numbers. This is often referred to as tate-chu-yoko. </p>
    <p>The internationalization test suite has tests and results for major browsers for <a href="https://www.w3.org/International/tests/repo/results/writing-mode-vertical">vertical text support</a> as well as bidirectional text support.</p>
</section>
    

<section>
  <h2 id="Slide0070"><a href="#Slide0070">Text manipulation</a></h2>
    
  <section>
    <h3 id="Slide0090"><a href="#Slide0090">Line breaking</a></h3>
    <p>When lines of text wrap, the type of script affects the expected behavior – particularly with regard to the treatment of white space
      around line breaks in the code.</p>
    <p>Chinese and Japanese scripts do not delimit words with spaces, and wrap on a character-by-character basis. There are, however, some
      rules (called <span class="newterm">kinsoku</span> rules in Japan) that forbid certain characters (mostly final punctuation) from appearing at the
      beginning of a line, and others that forbid certain characters appearing at the end of a line.</p>
    <p>Thai script uses spaces to delimit phrases, rather than words, and typically does not use sentence final punctuation. There is,
      however, a strong concept of a word, and text should be wrapped at word boundaries. Some Thai systems rely on users adding zero-width spaces to
      indicate where wrapping is appropriate, but it is more common to use a dictionary to determine word boundaries.</p>
    <p>The line breaking properties in <a href="https://www.w3.org/TR/css3-text/">CSS Text Module Level 3</a> will allow you to indicate appropriate behavior for scripts like Chinese, Japanese and Thai,
      where adding a space between wrapped text may not be appropriate.</p>
    <p>Some of the CSS properties will allow you to specify whether or not to wrap differently in the middle of embedded text from another
      script. For example, if you have Latin text in the middle of Chinese, should it wrap character by character or word by word? Both are valid, and CSS
      should allow you to choose according to your general preferences or the context. (See the two examples in the figure below.)</p>
    <figure>
      <figcaption title="Caption.">Line breaking possibilities with mixed CJK and Latin text.</figcaption>
      <p><img src="index-data/Slide0090.gif" alt="Line breaking possibilities with mixed CJK and Latin text." width="191" height="247" /> </p>
    </figure>
    <p>In addition, it is also important to allow the user to express preferences relating to the kinsoku rules and their Chinese and Korean
      equivalents. The top example in the figure below shows a typical result when the last character on a line is followed by a small katakana
      character.</p>
    <figure>
      <figcaption title="Caption.">Small kana and line breaks.</figcaption>
      <p><img src="index-data/Slide0100.gif" alt="Small kana and line breaks." width="202" height="246" /> </p>
    </figure>
    <p>The small katakana character begins the second line. This  tends to be the preference in modern Japanese typography, and is
      particularly useful in text with thin columns. The second example shows the result of a different approach, often referred to as 'strict'. The line
      wrapping algorithm now pulls down the last katakana character from the previous line so that the small katakana character is no longer in
      line-initial position, leaving a gap at the end of the line if the text is not justified.</p>
    <p>One way of applying the end-of-line kinsoku rules just mentioned is to wrap two characters down to the next line. This may be done,
      for example, to avoid a sentence final delimiter appearing at the start of a line. An alternative is to leave the punctuation hanging out of the margin. CSS should allow you to control this.</p>
    <figure>
      <figcaption title="Caption.">Hanging punctuation.</figcaption>
      <p><img src="index-data/Slide0110.gif" alt="Hanging punctuation." width="207" height="248" /> </p>
    </figure>
  </section>
    
  <section>
    <h3 id="Slide0120"><a href="#Slide0120">Text alignment &amp; justification</a></h3>
    <p>When specifying alignment and justification of text, CSS needs to allow you to specify how justification is to be applied to mixed
      script text. The example below shows how one approach can cause inter-character spacing to be applied to ideographic characters but not Latin
      text.</p>
    <p>Properties to control justification will also allow appropriate types of justification for various different scripts, for example
      ideographic, indic scripts with baseline connectors, South-East Asian scripts that don't use spaces between words, cursive scripts like Arabic,
      etc.</p>
    <figure>
      <figcaption title="Caption.">Chinese text as normal and with inter-ideograph justification.</figcaption>
      <p><img src="index-data/Slide0120.gif" alt="Justification type set to normal and inter-ideograph." width="519" height="110" /> </p>
    </figure>
    <p>Arabic script text may justify by such devices as stretching the connected baselines of letters within a word, by using wider glyphs, by stragetic use of ligation, and by stretching the
      spaces between and sometimes inside the words. CSS should provide properties to help you manage these justification alternatives, but at the time of writing we also need a better understanding of the principles involved before that can happen.</p>
    <figure>
      <figcaption title="Caption.">A very simplistic, and somewhat unattractive, approach to justification in Arabic which nevertheless shows elongation of the joins between characters.</figcaption>
      <p><img src="index-data/Slide0130.gif" alt="Justification type set to normal and kashida." width="526" height="146" /> </p>
    </figure>
    <p>As part of the process of justifying CJK text, you may want to specify whether, and if so how, blank space compression behaves. The picture
      below shows an example of a full-width parenthesis in Japanese that has its blank space removed to allow for compression.</p>
    <figure>
      <figcaption title="Caption.">Trimming during text justification.</figcaption>
      <p><img src="index-data/Slide0140.gif" alt="Trimming during text justification." width="148" height="117" /> </p>
    </figure>
    <p>You should also be able to specify whether a full-width punctuation mark in ideographic text should be narrowed at the beginning of a
      line so that its 'ink' lines up with the first glyph in the lines above and below. This makes the left margin or top margin look neater, but also
      affects the justification of the line on which it occurs.</p>
    <figure>
      <figcaption title="Caption.">Line-intial punctuation trim.</figcaption>
      <p><img src="index-data/Slide0150.gif" alt="Line-intial punctuation trim." width="117" height="174" /> </p>
    </figure>
  </section>
    
  <section>
    <h3 id="Slide0160"><a href="#Slide0160">Text spacing</a></h3>
    <p>When non-ideographic text or numbers appear in ideographic text it is often preferable to separate the two with a little additional
      space. CSS could provide a property that allows you to add such spacing without the need for spaces in the content. You could apply it around a number
      of different types of embedded text, and combine them as you wish. This is currently waiting for work to progress on a future version of the Text module.</p>
    <figure>
      <figcaption title="Caption.">Text autospace set to normal, then set numeric plus alpha.</figcaption>
      <p><img src="index-data/Slide0160.gif" alt="Text autospace set to normal, then set  numeric plus alpha." width="325" height="109" /> </p>
    </figure>
  </section>
    
  <section>
    <h3 id="Slide0190"><a href="#Slide0190">Special, native typographic features</a></h3>
    <p>Some scripts have typographic features that are special. It should eventually be possible to support these features using CSS. For example, Japanese has kumimoji and warichu forms.</p>
    <p><span class="newterm">Kumimoji</span> is a Japanese word referring to the practice of combining up to 5 glyphs within a single
      wide-character glyph space.</p>
    <figure>
      <figcaption title="Caption.">Kumimoji.</figcaption>
      <p><img src="index-data/Slide0190a.gif" alt="Kumimoji." width="173" height="59" /> </p>
    </figure>
    <p><span class="newterm">Warichu</span> is a Japanese word for a type of inline note, where the text runs on two lines.</p>
    <figure>
      <figcaption title="Caption.">Warichu.</figcaption>
      <p><img src="index-data/Slide0190b.gif" alt="Warichu." width="291" height="59" /> </p>
    </figure>
    <p>Since, in both cases, the underlying text is a normal sequence of characters, and the arrangement is simply a typographic effect, both of these effects could be made available through CSS properties at some future time.</p>
  </section>
</section>


<section>
    <h2 id="Slide0170"><a href="#Slide0170">Grid layout</a></h2>
    <p>It is common for the glyphs in documents written in East Asian languages to be laid out on a page in a grid pattern. This approach is
      helped by that fact that ideographic, kana and hangul characters tend to be the same width.</p>
    <p>CSS could  specify a set of properties for applying grids and for managing non-full width characters inside the grid, such as Latin
      text, in various ways. Such properties would indicate whether the grid should apply to non-ideographic characters in the same way as to CJK
      characters.</p>
    <p>This picture shows some vertical Japanese text with no grid applied.</p>
    <figure>
      <figcaption title="Caption.">Japanese text with no grid applied.</figcaption>
      <p><img src="index-data/Slide0170.gif" alt="Japanese text with no grid applied." width="255" height="334" /> </p>
    </figure>
    <p>On this next picture we see the effect of applying one type of grid layout to the previous text.</p>
    <figure>
      <figcaption title="Caption.">Japanese text with in a grid-based layout.</figcaption>
      <p><img src="index-data/Slide0180.gif" alt="Japanese text with in a grid-based layout." width="259" height="308" /> </p>
    </figure>
  </section>
    
<section>
  <h2 id="Slide0200"><a href="#Slide0200">Text decoration</a></h2>
  <p><a href="https://www.w3.org/TR/css-text-decor-3/">CSS Text Decoration Module Level 3</a> will allow native forms of emphasis, such as the <span class="newterm">boten marks</span> used in Japanese.
    These are similar in use to italicisation or bolding in Latin text – neither of which work well in small font sizes for on-screen ideographic
    text.</p>
  <figure>
    <figcaption title="Caption.">Japanese boten marks</figcaption>
    <p><img src="index-data/Slide0210.gif" alt="Japanese boten marks." width="302" height="115" /> </p>
  </figure>
  <p>Various properties are needed to specify the type of boten character to be used, and the position relative to the base text (ie. top or
    bottom for horizontal text, and left or right for vertical).</p>
  <p>Other scripts have additional ways of expressing emphasis, footnotes, and the like that will need some support with CSS properties in the future.</p>
  <p><a href="https://drafts.csswg.org/css-pseudo-4/#first-letter-pseudo">Tests CSS Pseudo-Elements Module Level 4</a> looks at how to identify and style characters at the start of a line in ways that ressemble drop caps and similar special formatting. </p>
  <figure>
    <figcaption title="Caption.">Initial-letter styling in an Indic script.</figcaption>
    <p><img src="index-data/Hbaseline-rule.png" alt="Initial-letter styling in an Indic script.." /></p>
  </figure>
  <p>The rules will need to be adapted to handle differences across the various scripts that content authors use. For example, initial-letter highlighting in Indic scripts often requires selecting a group of characters, and alignment may need to take into account different parameters from those in the Latin script. Information is still being sought to determine the implications of this feature for the various scripts around the world.</p>
</section>


<section>
  <h2 id="Slide0220"><a href="#Slide0220">Ruby </a></h2>
    <p><span class="newterm">Ruby</span> is a type of annotation associated with a base text that is often used in Japanese, and to some extent
      in Chinese also, to provide pronunciation information for ideographs, and sometimes short explanations. The name 'ruby' originated from a named font
      size (about half the size of the normal 10 point font) used by British typesetters.</p>
    <p>Sometimes you may want to be able to control the location of  ruby text. <a href="https://www.w3.org/TR/css-ruby-1/">CSS Ruby Layout Module Level 1</a>  provides a property that gives you control over
      the location.</p>
    <figure>
      <figcaption title="Caption.">Ruby displayed above/on right.</figcaption>
      <p><img src="index-data/Slide0240a.gif" alt="Ruby-position: before" width="255" height="135" /> </p>
    </figure>
    <figure>
      <figcaption title="Caption.">Ruby displayed below/on left.</figcaption>
      <p><img src="index-data/Slide0240b.gif" alt="Ruby-position: after" width="243" height="135" /> </p>
    </figure>
    <p>Another value is provided to indicate that the browser should treat  bopomofo annotations in Traditional Chinese text so that the ruby appears in a
      column to the right of each ideographic character, whether the text is horizontal or vertical.</p>
  <figure>
      <figcaption title="Caption.">Ruby-position: right</figcaption>
      <p><img src="index-data/Slide0240c.gif" alt="Ruby-position: right" width="266" height="72" /> </p>
    </figure>
    <p>Properties are also needed to indicate the relative alignment of ruby and base text when one is longer than the other. The picture below shows how text would look if the shorter line were aligned with the end of the longer.
    (Ignore the green line, which is there just to show the boundaries more clearly.)</p>
    <figure>
      <figcaption title="Caption.">Ruby-align: end</figcaption>
      <p><img src="index-data/Slide0250.gif" alt="Ruby-align: end" width="273" height="197" /> </p>
  </figure>
    <p>If the ruby text is wider than the base text you should be able to specify whether or not it overhangs any surrounding base text, and to what
      amount, using a property for ruby overhang.</p>
    <p>Note how, in the following example, the ruby text overlaps the preceding characters, but not the following base text. Note also that ruby does not
      overlap itself. Properties are needed to manage fine positioning of this kind.</p>
    <figure>
      <figcaption title="Caption.">Ruby overhang</figcaption>
      <p><img src="index-data/Slide0260.gif" alt="Ruby-overhang: start" width="258" height="197" /> </p>
    </figure>
</section>


<section>
  <h2 id="Slide0270"><a href="#Slide0270">You can help</a></h2>
    <p>If you are interested in seeing these features become available, please let the W3C know. It is always useful to us to hear what users
      want. There are also a number of practical ways to get involved.</p>
    <p>The CSS Working Group has a lot of work on its hands, and your assistance in developing these
      specifications will be appreciated.</p>
  <p>You can help move the specifications forward by reviewing and commenting on the public drafts that are made available. If you have
      expertise in this area, you might also consider participating in the CSS or Internationalization Working Groups to help move the work along. </p>
    <p>A
      significant amount of specification work benefitted from the <a href="https://www.w3.org/TR/jlreq/">Japanese Layout Requirements</a> document, and work is going on to <a href="https://www.w3.org/International/layout">document requirements for other scripts</a>. You can contribute to that work, if you have expertise in that area.</p>
    <p>Even when we move these specifications to Recommendation stage, the battle is not yet won. User agent developers must implement these
      features so that we can use them, and we need the properties to be widely implemented on a range of user agents. Again, the voice of local users is
      important in making that happen. User agent developers are unlikely to implement these features if they hear no-one asking for them. You should ensure that you raise issues, bugs and requirements related to improved support for scripts and languages with browser developers.</p>
    <p>Finally, you can help by keeping informed about progress on these features and implementing them in your content when they become
      available.</p>
</section>


<section>
<h2 id="endlinks"><a href="#endlinks">Further reading</a></h2>
<aside class="section" id="survey"> </aside><script>document.getElementById('survey').innerHTML = g.survey</script>

<ul id="full-links">
<li><p>Related links, <cite>Authoring HTML &amp; CSS</cite></p>
	<ul>
    <li><a href="https://www.w3.org/International/techniques/authoring-html#style">Styling &amp; layout</a></li>
    </ul>
    </li>
  <li>
      <p><a href="http://www.w3.org/TR/2003/CR-css3-text-20030514/#document-grid">Grid layout in the old CSS Text Module</a></p>
    </li>
    <li>
      <p><a href="https://www.w3.org/TR/css3-linebox/#dominant-baseline-property">Baseline alignment in the CSS Linebox
        Module</a></p>
    </li>
  </ul>
</section>

<footer id="thefooter"></footer><script type="text/javascript">document.getElementById('thefooter').innerHTML = g.bottomOfPage</script>
<script type="text/javascript">completePage()</script>
</body>
</html>
